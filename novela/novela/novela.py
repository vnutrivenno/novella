import random

# Инициализация инвентаря героя
inventory = []

# Инициализация текущей локации
current_location = "начальная комната"

# Словарь с описанием локаций
locations = {
    "начальная комната": "Ты находишься в начальной комнате подземелья. Перед тобой два коридора.",
    "левый коридор": "Ты вошел в левый коридор. Перед тобой темный проход.",
    "правый коридор": "Ты вошел в правый коридор. Вдалеке виден свет.",
    "темная комната": "Ты оказался в темной комнате. Тут что-то блестит.",
    "светлая комната": "Ты оказался в светлой комнате. Здесь есть выход на поверхность.",
    "сокровищница": "Ты нашел сокровищницу. Внутри множество драгоценностей!",
}

# Генератор случайных чисел
random.seed()

# Функция для вывода описания текущей локации
def show_location_description():
    print(locations[current_location])

# Функция для совершения выбора
def make_choice():
    choice = input("Что будешь делать? (Введите 'лево' или 'право'): ").strip().lower()
    if choice == 'лево':
        return 'левый коридор'
    elif choice == 'право':
        return 'правый коридор'
    else:
        print("Неверный выбор. Попробуй ещё раз.")
        return current_location

# Функция для случайных событий
def random_event():
    if current_location == "темная комната":
        if random.random() < 0.5:
            print("Ты наткнулся на монстра и проиграл. Конец игры.")
            return True
        else:
            print("Ты нашел ключ в темной комнате.")
            inventory.append("ключ")
            return False
    elif current_location == "светлая комната":
        if "ключ" in inventory:
            print("Ты использовал ключ, чтобы открыть дверь на поверхность. Ты выбрался из подземелья!")
            return True
        else:
            print("Дверь на поверхность закрыта. Тебе нужен ключ.")
            return False
    return False

# Основной игровой цикл
while True:
    show_location_description()
    if current_location == "начальная комната":
        print("У тебя есть два выбора: левый или правый коридор.")
    elif current_location == "левый коридор":
        print("Ты идешь вглубь темного коридора.")
    elif current_location == "правый коридор":
        print("Ты идешь в сторону света.")
    
    if current_location == "сокровищница":
        print("Поздравляю! Ты нашел сокровища и победил. Конец игры.")
        break

    current_location = make_choice()
    if random_event():
        break

print("Спасибо за игру!")